#### DNS解析

1. 查找浏览器自身的DNS缓存
2. 查找操作系统的DNS缓存(hosts文件)
3. 递归查询本地DNS服务器的DNS缓存
4. 迭代查询上级DNS服务器(根域名服务器,顶级域名服务器以及权限域名服务器直到找到为止)
5. 本地DNS服务器缓存，发送给操作系统=>操作系统缓存，发送给浏览器=>浏览器缓存



#### CDN原理

CDN又名内容分发网络，是构建在当前网络基础上的一层虚拟网络，目的是通过减短距离以提高用户的访问速度。

实现原理是在浏览器发送请求让本地DNS服务器进行DNS解析时，如果部署了CDN服务，那么本地DNS服务器会将该请求发给专门的域名授权DNS服务器，该服务器会讲该请求CNAME到一台负载均衡服务器上，该服务器会考虑各种情况，例如距离，当前访问情况，然后返回一个最佳的访问节点给本地DNS服务器，本地DNS服务器将该节点的IP地址返回给用户，用户去请求该节点的服务器，如果该节点有用户所需要资源的缓存则直接将资源返回给用户，如果没有缓存，则该CDN节点服务器会去源站服务器拉取资源，并做相应的缓存，将资源返回给用户。